# Critic Prompt — Profile

Проверь перед PR:

- Контракты: `schema/openapi.yaml` соответствует ручкам и `ProfileOut/ProfileUpdate`.
- Инварианты: чтение публично; обновление только владельцем (явная проверка в роутере).
- События: паблишер `event.profile.updated.v1` вызывается при PATCH; схема события актуальна.
- Слои: бизнес‑логика не в контроллерах; application не зависит от infrastructure напрямую.
- Типы/линтеры: mypy ok, ruff ok, исключены подавления без причины.
- Тесты: есть юнит/контракт; покрывают happy/deny; outbox вызов проверен (мок).
- Миграции: нет некоммитнутых изменений схем БД; если требуются — ревизия в Alembic.
- Коммиты: conventional и с префиксом `domain-profile`.

