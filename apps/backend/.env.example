# Base
APP_ENV=dev
APP_API_CONTOUR=all
APP_PORT=8000
UVICORN_HOST=0.0.0.0
APP_DATABASE_URL=postgresql+asyncpg://app:app@localhost:5432/app
DATABASE_URL_ADMIN=postgresql+asyncpg://app:app@localhost:5432/app_admin
DATABASE_URL_OPS=postgresql+asyncpg://app:app@localhost:5432/app_ops
APP_REDIS_URL=redis://localhost:6379/0
ALEMBIC_MODELS=apps.backend.domains.platform,apps.backend.domains.product

# Auth / IAM
APP_AUTH_JWT_SECRET=change-me
APP_AUTH_JWT_ALGORITHM=HS256
APP_AUTH_JWT_EXPIRES_MIN=15
APP_AUTH_JWT_REFRESH_EXPIRES_DAYS=7
APP_AUTH_BOOTSTRAP_LOGIN=
APP_AUTH_BOOTSTRAP_PASSWORD=
APP_AUTH_BOOTSTRAP_ROLE=admin
APP_AUTH_BOOTSTRAP_USER_ID=ddb93de8-43ed-4a94-8d12-70f1bdb0b168
APP_AUTH_BOOTSTRAP_ENABLED=false

# Events platform
APP_EVENT_TOPICS=profile.updated.v1
APP_EVENT_GROUP=relay
APP_EVENT_RATE_QPS=1000
APP_EVENT_IDEMPOTENCY_TTL=86400

# Notifications
APP_NOTIFY_TOPICS=profile.updated.v1
APP_NOTIFY_WEBHOOK_URL=

# SMTP (email notifications)
APP_SMTP_MOCK=true
APP_SMTP_HOST=
APP_SMTP_PORT=587
APP_SMTP_USERNAME=
APP_SMTP_PASSWORD=
APP_SMTP_TLS=true
APP_SMTP_MAIL_FROM=noreply@example.com
APP_SMTP_MAIL_FROM_NAME=Caves

# Search (in-memory only; no external engine)
APP_SEARCH_PERSIST_PATH=var/search_index.json

# Security / Admin
APP_ADMIN_API_KEY=dev-admin-key-change-me
APP_OPS_API_KEY=dev-ops-key-change-me
APP_AUTH_CSRF_HEADER_NAME=X-CSRF-Token
APP_AUTH_CSRF_COOKIE_NAME=XSRF-TOKEN

# Embedding settings
EMBEDDING_PROVIDER=
EMBEDDING_API_BASE=
EMBEDDING_MODEL=
EMBEDDING_API_KEY=
EMBEDDING_DIM=384

# Product feature flags (gate DDD routers)
APP_REFERRALS_ENABLED=true
APP_PREMIUM_ENABLED=true
APP_ACHIEVEMENTS_ENABLED=true
APP_WORLDS_ENABLED=true

# Debug tooling
APP_ENABLE_DEBUG_ROUTES=false
