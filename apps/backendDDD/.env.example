# Base
APP_ENV=dev
APP_DATABASE_URL=postgresql://app:app@localhost:5432/app
APP_REDIS_URL=redis://localhost:6379/0

# Auth / IAM
# JWT settings used by DDD IAM guard
APP_AUTH_JWT_SECRET=change_me_dev_jwt
APP_AUTH_JWT_ALGORITHM=HS256
APP_AUTH_JWT_EXPIRES_MIN=15
APP_AUTH_JWT_REFRESH_EXPIRES_DAYS=7

# Events platform
APP_EVENT_TOPICS=profile.updated.v1
APP_EVENT_GROUP=relay
APP_EVENT_RATE_QPS=1000
APP_EVENT_IDEMPOTENCY_TTL=86400

# Notifications
APP_NOTIFY_TOPICS=profile.updated.v1
APP_NOTIFY_WEBHOOK_URL=

# SMTP (email notifications)
APP_SMTP_MOCK=true
APP_SMTP_HOST=
APP_SMTP_PORT=587
APP_SMTP_USERNAME=
APP_SMTP_PASSWORD=
APP_SMTP_TLS=true
APP_SMTP_MAIL_FROM=noreply@example.com
APP_SMTP_MAIL_FROM_NAME=Caves

# Search (in-memory only; no external engine)
APP_SEARCH_PERSIST_PATH=apps/backendDDD/var/search_index.json

# Security / Admin
APP_ADMIN_API_KEY=
APP_AUTH_CSRF_HEADER_NAME=X-CSRF-Token
APP_AUTH_CSRF_COOKIE_NAME=XSRF-TOKEN

# Embedding settings
# AIML API embedding provider
EMBEDDING_PROVIDER=aimlapi
# Full URL to the /v1/embeddings endpoint (no extra suffix)
EMBEDDING_API_BASE=https://api.aimlapi.com/v1/embeddings
# Model to use with AIML API
EMBEDDING_MODEL=text-embedding-3-small
# AIML API key (set in real .env, never commit real keys)
EMBEDDING_API_KEY=change_me
# Embedding dimension (must match DB column VECTOR(N))
EMBEDDING_DIM=384

# Product feature flags (gate DDD routers)
APP_REFERRALS_ENABLED=true
APP_PREMIUM_ENABLED=true
APP_ACHIEVEMENTS_ENABLED=true
APP_WORLDS_ENABLED=true
