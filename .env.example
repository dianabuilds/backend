# Application settings
APP_NAME='FastAPI App'
APP_DESCRIPTION='FastAPI Application with SQLAlchemy, Alembic, and PostgreSQL'
APP_VERSION=0.1.0
DEBUG=false
# development, staging, production
ENVIRONMENT=development

# ------------------------------------------------------------------
# Database
DATABASE__HOST=postgres
DATABASE__PORT=5432
# Name of the database; specify full name including environment suffix
# if you maintain separate databases per environment (e.g., app_development).
DATABASE__NAME=app_development
DATABASE__USERNAME=app
DATABASE__PASSWORD=change_me
DATABASE__POOL_SIZE=10
DATABASE__MAX_OVERFLOW=20
DATABASE__SSLMODE=require

# JWT and sessions
# WARNING: use different secrets for auth and payments
JWT__SECRET=change_me_auth_jwt_secret
JWT__ALGORITHM=HS256
JWT__EXPIRES_MIN=1440

# Cookies (if using cookie-based auth)
COOKIE_DOMAIN=yourdomain.com
COOKIE_SECURE=True
COOKIE_SAMESITE=Strict

# Payments
PAYMENT__JWT_SECRET=change_me_payment_secret
# or webhook secret of provider
PAYMENT__WEBHOOK_SECRET=change_me_webhook_secret

# CORS
APP_CORS_ALLOW_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
APP_CORS_ALLOW_CREDENTIALS=True
APP_CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
APP_CORS_ALLOW_HEADERS=Authorization,Content-Type,X-CSRF-Token

# CSRF
CSRF_ENABLED=true
CSRF_HEADER_NAME=X-CSRF-Token
CSRF_COOKIE_NAME=XSRF-TOKEN
CSRF_EXEMPT_PATHS=/health,/readyz,/metrics,/ws
CSRF_REQUIRE_FOR_BEARER=false

# Real IP / proxies
REAL_IP_ENABLED=false
TRUSTED_PROXIES=
REAL_IP_HEADER=X-Forwarded-For
REAL_IP_DEPTH=

# Sentry & logging
SENTRY_ENABLED=false
SENTRY_DSN=https://<key>@oXXXX.ingest.sentry.io/XXXXX
SENTRY_ENV=production
LOG_LEVEL=INFO
REQUEST_LOG_LEVEL=INFO
SLOW_QUERY_MS=200

# Migration settings
# Set to true in development if needed
IGNORE_MIGRATION_ERRORS=false

# Embedding settings
# AIML API embedding provider
EMBEDDING_PROVIDER=aimlapi
# Full URL to the /v1/embeddings endpoint (no extra suffix)
EMBEDDING_API_BASE=https://api.aimlapi.com/v1/embeddings
# Model to use with AIML API
EMBEDDING_MODEL=text-embedding-3-small
# AIML API key (set in real .env, not in git)
EMBEDDING_API_KEY=<your key>
# Embedding dimension (must match DB column)
EMBEDDING_DIM=384

# Cache settings
REDIS_URL=redis://redis:6379/0
NAV_CACHE_TTL=300
COMPASS_CACHE_TTL=120
CACHE_ENABLE_NAV_CACHE=true
CACHE_ENABLE_COMPASS_CACHE=true
CACHE_KEY_VERSION=v1

# Navigation settings
NAV_MAX_OPTIONS=3
NAV_WEIGHT_COMPASS=0.5
NAV_WEIGHT_ECHO=0.3
NAV_WEIGHT_RANDOM=0.2

# Compass settings
COMPASS_TOP_K_DB=200
COMPASS_TOP_K_RESULT=20
COMPASS_PGV_PROBES=10

# Admin settings
ADMIN_BOOTSTRAP_ENABLED=true
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=admin123

# Security settings
SECURITY_MIN_PASSWORD_LENGTH=3
SECURITY_SECURE_PASSWORD_POLICY=false
SECURITY_ALLOWED_HOSTS=*

# --- SMTP ---
# Если True — письма НЕ отправляются, только логируются (dev/staging).
SMTP_MOCK=True

SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=your_smtp_login
SMTP_PASSWORD=your_smtp_password_or_api_key
SMTP_TLS=True
SMTP_MAIL_FROM=noreply@example.com
SMTP_MAIL_FROM_NAME="Quest-N"
