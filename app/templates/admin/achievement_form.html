{% extends "admin/layout.html" %}
{% block title %}{{ 'Edit Achievement' if achievement else 'Create Achievement' }}{% endblock %}
{% block content %}
<h1 class="h3 mb-4 text-gray-800">{{ 'Edit Achievement' if achievement else 'Create Achievement' }}</h1>
{% if error %}
<div class="alert alert-danger">{{ error }}</div>
{% endif %}
<form method="post">
  <div class="mb-3">
    <label class="form-label">Code</label>
    <input type="text" class="form-control" name="code" value="{{ achievement.code if achievement else '' }}" />
  </div>
  <div class="mb-3">
    <label class="form-label">Title</label>
    <input type="text" class="form-control" name="title" value="{{ achievement.title if achievement else '' }}" />
  </div>
  <div class="mb-3">
    <label class="form-label">Description</label>
    <textarea class="form-control" name="description" rows="3">{{ achievement.description if achievement else '' }}</textarea>
  </div>
  <div class="mb-3">
    <label class="form-label">Icon</label>
    <input type="text" class="form-control" name="icon" value="{{ achievement.icon if achievement else '' }}" />
  </div>
  <div class="mb-3">
    <label class="form-label">Condition (JSON)</label>
    <textarea class="form-control" name="condition" rows="6">{{ condition if condition else (achievement.condition | tojson(indent=2) if achievement else '{}') }}</textarea>
  </div>
  <div class="form-check mb-3">
    <input class="form-check-input" type="checkbox" name="visible" id="visible" {% if not achievement or achievement.visible %}checked{% endif %}>
    <label class="form-check-label" for="visible">Visible</label>
  </div>
  <button type="submit" class="btn btn-primary">Save</button>
  <a href="/admin/achievements" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}
