# Backend сервис

Асинхронный backend на FastAPI и SQLAlchemy 2.0. Сервис предоставляет REST и WebSocket API для работы с пользователями, контентными узлами и AI‑подсистемой.

## Возможности
- Аутентификация по паролю и EVM‑подписей
- Профили пользователей, роли и премиум‑статусы
- Узлы контента с тегами, переходами и эмбеддингами
- Модерация, уведомления и платёжный модуль

## Быстрый старт
1. Установить зависимости:
   ```bash
   pip install -r requirements.txt
   ```
2. Создать файл `.env` на основе `.env.example` и заполнить переменные окружения.
3. Инициализировать базу данных:
   ```bash
   python scripts/init_db.py
   ```
4. Запустить сервер разработки:
   ```bash
   ./scripts/run.sh --dev
   ```
5. Для запуска в продакшене используйте:
   ```bash
   ./scripts/run.sh --prod --workers 4
   ```
6. Фоновый AI‑воркер:
   ```bash
   python scripts/run_ai_worker.py
   ```
7. Заполнить базу тестовыми данными:
   ```bash
   python scripts/seed_db.py --users 5 --nodes 30
   ```

## Тесты
```bash
pytest
```

## Структура проекта
- `apps/backend/app` – код приложения и доменные модули
- `apps/backend/alembic` – миграции базы данных
- `scripts` – вспомогательные скрипты
- `docs` – документация и руководства

## Лицензия
Проект распространяется под лицензией MIT.
